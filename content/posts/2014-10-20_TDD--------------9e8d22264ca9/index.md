---
title: TDDについての議論で感じること
description: ''
date: '2014-10-20T13:09:08.000Z'
categories: []
keywords: []
slug: TDD%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AE%E8%AD%B0%E8%AB%96%E3%81%A7%E6%84%9F%E3%81%98%E3%82%8B%E3%81%93%E3%81%A8
---
「TDD is dead」以降、TDDの議論が再燃していて、その中で Rspec の使用を見直す動きが一部であるらしい。  
Twitterのタイムラインとかでつまみ読みしているだけなのだけど、この流れには違和感を覚えることが多い。

それはなぜか。しばらく違和感と正面から向き合ってわかったことがある。  
それは、これまでの議論の中で、「TDD をなぜやっているのか」ということについてほとんど論じられることがないなと思うと同時に、テストの目的もほとんど論じられることがないからだ。

TDD は「開発・設計技法だ」という人と「品質確認方法のひとつだ」という人がいる。そのどちらをとるかは人によると思うので、どっちであるべきかなどはここでは論じないが、大事なのはこれらの区別ができるかどうかだ。一緒くたに扱ってしまうとあまりよくない結果を呼ぶことになる。

「開発・設計技法」なのであれば、チームでTDDをやるべきかどうかは別にして、個人のコーディングスタイルとしてやっていればいい。その場合は、プロダクトコードの開発が終わった後、テストコードはコミットされずに捨てられるのかもしれない。

「品質確認方法のひとつ」なのであれば、チームでTDDをやることをお約束にしておくべきだ。個人ごとに品質確認方法が違うのは、同じプロダクト内で品質確認レベルのばらつきを生み、あまり好ましくない状態になるかもしれない。

そして、「開発・設計技法」のためであれば、テストファーストである必要性がある。しかし、「品質確認方法のひとつ」のためであれば別にテストファーストにこだわる必要はなく、ただのユニットテストでいい場合もあるのかもしれない。

個人的には「開発・設計技法」のために、テストファーストでフィードバックループを回すTDDがとても気に入っている。

最後に。

煩雑なコードをつくるチームに出会ったときはTDDを強くおすすめすることがある。  
その理由は２つある。

最初に、TDDを通してクラスやメソッドの使い方から設計をすることによって最適なクラスやメソッドの設計を体感的に覚えることができるということ。次に、ユニットテストを整備することは必要なので、その環境を整備することができるからだ。