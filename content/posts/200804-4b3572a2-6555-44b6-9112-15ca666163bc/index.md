---
title: WEBシステムにおける負荷増大の解決策はあるのか？
description: ''
date: '2008-04-05T21:52:51.000Z'
categories: []
keywords: []
slug: "200804-4b3572a2-6555-44b6-9112-15ca666163bc"
---
ガソリン関連でガソリン価格サイトのアクセスが集中しているらしい。

> 4月1日の同サイトへのアクセス数は最終的に150万ページビューに達した。これは通常の約15倍、既存のサーバの構成では想定していない規模だという。

> \[From [最安値を求めさまよう：ガソリンの価格比較サイトがダウン、ネットの弱点は変わらず (1/2) — ITmedia エンタープライズ](http://www.itmedia.co.jp/enterprise/articles/0804/05/news002.html)\]

まぁ、この記事はニュースにかこつけた宣伝記事なんだと思うのだけど、その記事の一節でつぎのようなものがあった。

> 同サイトに限らず、多くのウェブサイトは通常時のアクセス数を基にサーバの構成を決めている。15倍など想定を超えたアクセス数に達すれば、サーバがダウンすることは容易に想像できる。

> 言うまでもなく、こうした処理能力の問題は以前からある。大企業をはじめ多くのWebサイトがサーバの増設などによる対応を強化しているが、インターネットインフラの根本的な弱点であることは変わっていない。

> \[From [最安値を求めさまよう：ガソリンの価格比較サイトがダウン、ネットの弱点は変わらず (1/2) — ITmedia エンタープライズ](http://www.itmedia.co.jp/enterprise/articles/0804/05/news002.html)\]

確かに、多くのサイトが通常のピーク時のアクセス数、サーバの負荷をもとにサーバ構成を決めている。それは今回のような「一時的な一斉アクセス」のような状況には弱いし、サーバだけではなくて、回線で輻輳が起こることもある。輻輳というのはネットワーク用語で混雑していることを言う。

サーバを増やせばいい。たしかにそれで問題は解決するかもしれない。けれども、サーバの購入費、保守費、サーバを置くための場所代などかかる費用は膨大なため、サーバを増やしてサービスを安定化させたところでサービス事業主が立ちゆかなくなるという本末転倒なことがおこる。いつでも収益性との戦いが生じている。

この記事で紹介されているようなキャッシュサービスを使えば解決するのか。残念ながらすべてをキャッシュさせるわけにはいかない。最近増えているWEBサービスではログインを必須とする。個人情報をキャッシュさせるわけにはいかないからだ。多くのサイトではセキュリティの観点から、ユーザを特定する情報をURLに含ませないように作るのが主流だ。ということは下手にキャッシュさせると人の情報が表示されることにもつながる。

また、とある企業と仕事させていただいたときに、サーバにいくら負荷がかかっても、戻るボタンを使えないようにするほどキャッシュ・履歴を無効化してキャッシュさせないようにして欲しいという要望があった。キャッシュ・履歴なんてのはブラウザの仕様にかかる部分も大きいので、極端な例だと思うのだけど、これが現実。もちろん実施後はシステムへの負荷の状況が変わったのは言うまでもない。

たぶん、サーバへのトラヒックが大きく変わっても、健全に動くシステムを作るというのは、永遠のテーマなのかもしれない。その元凶がサーバ・クライアントシステムにあるのだと思うのだけど、クライアントに同調させてサーバを増やす以外に解決策はないのだろうか？

ソフトウェアのチューニングではなくて、もっと根本的なネットワーク構成、ハードウェア構成の部分で新しい解決策を見てみたいところだ。