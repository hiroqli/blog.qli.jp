---
title: マルチタスクいらない派のiPhone OS 4 マルチタスクへの感想
description: ''
date: '2010-04-13T22:47:01.000Z'
categories: []
keywords: []
slug: "%E3%83%9E%E3%83%AB%E3%83%81%E3%82%BF%E3%82%B9%E3%82%AF%E3%81%84%E3%82%89%E3%81%AA%E3%81%84%E6%B4%BE%E3%81%AEiPhone+OS+4+%E3%83%9E%E3%83%AB%E3%83%81..."
---
自分はiPhoneにはマルチタスクがいらない派だった。でも、iPhone OS 4 にはマルチタスクが導入されることが発表された。iPhone OS 4にマルチタスクが入って気に入らないとは思っていない。むしろ歓迎している。

マルチタスクに対して懐疑的な人はわりと Twitter でもいた気がするのだけど、その人たちがその立場から見てどう思っているのかというのが伝わってこない。それはそれで過去の自分に対して無責任な気もするので、それについてまとめたいと思う。iPhone OS 4のSDKを触ったりしているわけでもないし、betaを触っているわけでもないし、またある程度情報をかき集めた中で書いているので、憶測の域を出ていないところがかなりあることだけはご了承頂きたい。

**マルチタスクとタスクマネージャ**

「iPhoneにはマルチタスクはいらない」こういう発言をしていたときの”マルチタスク”って何なのかについてまずきちんと定義しておきたい。自分自身の体験上、モバイルでマルチタスクというと、Windows Mobile での経験しかない。

Windows Mobileのアプリケーションの動きといえば、明示的に終了をしても前面から消えただけで、裏では動いているという、ちょうどMac OS Xのアプリと同じ動きをする。Macにある command + Q、いわゆるアプリの完全終了というコマンドはない（そういう機能を持ったアプリを拾ってきて入れることはできた）。通常、アプリを終了する場合は、タスクマネージャを開いて終了する。このタスクマネージャ、iPhoneの発表の際にみんなで大笑いした、あれだ。なぜそれがダメなのか。それは、ユーザーに開発者みたいな操作を要求するからだ。

**iPhone OSにおけるマルチタスク**

iPhone OS 4におけるマルチタスクの前に、自分のiPhoneの使い方を考えてみる。たとえば、OmniFocusのOver the Air syncをしているとき、それから、Google ReaderクライアントであるReederでオフラインで読むためにキャッシュを貯めているとき、などは同期中にtweetできればいいのにと考えることも多々あるのは事実だ。

iPhone OS 4のマルチタスク実装では、バックグラウンドで動かすことができるプロセスが決まっている。それは、Audioであり、VoIPであり、Locationであり、Local notificationであり、Task completionだ。たとえば、同期をバックグラウンドでやって、終了したことをユーザに通知して、勝手に終了するというようなこともできるのかもしれない。

iPhone OS 4でのバックグラウンドアプリの終了は、アイコンの並べ替えと同様に長押ししてから行うようだ。そして、jobsはユーザが気にする必要がないとも話したらしい。それは、もしかすると、iPhone OS 側で自動的に使っていないアプリを判断して落とすということができるのかもしれない。彼らのことだ、審査基準にバックグラウンドでの動きについてのことを加えておくだけかもしれないが。

バックグラウンドで動かすことのできないプロセスはもしかすると本当に実行できないんだろう。アプリはバックグラウンドに回された瞬間、あくまでフリーズしたような形で固められてメモリに格納される。こうすると余計なCPUも余計なバッテリも使わないだろう。ホームボタン2度押しは、あくまでcommand + tabとおなじようなアプリ切り替えスイッチであり、決してタスクマネージャではないのだろう。

今回の発表会で行った”マルチタスク”は、誰もが思い描いた”マルチタスク”ではないと思う。実際は、Apple謹製アプリだけが使えたAPIの一般開放に過ぎないのだから。でも、それでもできることが増えたことは素直に歓迎したい。これで、NAVITIMEすら作れるようになったのだし。

**参考**

現在公開されている情報でマルチタスクについて一番詳しいのは、[Appleの開発者向けページ](http://developer.apple.com/jp/technologies/iphone/whats-new.html#multitasking)でしょう。それから、バックグラウンドアプリの明示的な終了の仕方はあまりシェアされていないので、Twitterで教えて頂いた動画を載せておきます。(thanks [@miko](http://twitter.com/miko/status/12092567896) and [@mspeed3](http://twitter.com/mspeed3/status/12092200973))

**p.s.**

書いておきながらなんだけど、読んだ人にきちんとなんらかの解を提示できているかが心配になってきた･･･