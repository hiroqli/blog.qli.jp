---
title: ユーザ辞書プロセスの暴走
description: ''
date: '2014-04-12T09:00:40.000Z'
categories: []
keywords: []
slug: "53d2ec3d-a986-4987-82cb-0f493565b4a9"
---
OS X mavericks上で、TwitterアプリやSafariを使っていてレインボーサークルが頻発していました。そこでなんとなくアクティビティモニタを開いてみたところ、あるプロセスが暴走していることが判明しました。

_com.apple.InputMethodKit.UserDictionary_ というのは単語通りユーザ辞書のためのプロセス。しばらく見ていると、ずっと90%以上を維持していました。日本語FEPとしては、ATOKを使用していて、ことえりは通常使っていません。

ユーザ辞書を開いてみてみると、以前登録した単語が並んでいました。これらの単語を使用していなかった（登録したことすら忘れていました）ので、一度ユーザ辞書をリセットすることにしました。というわけで、参考にしたのがこちら。

*   [ことえりのユーザ辞書を完全に初期化する簡単な方法（Mountain Lion対応版）](http://ottan.me/2012/08/05/post-0-18/)

ことえりのユーザ辞書はiCloudで同期されているので、少し手順が多くなります。

この手順を一度やって再起動後、OS Xがとても軽くなりました。レインボーサークルもほとんど見てないですね。発生確率が激変しました。

影響範囲はそれだけではなさそうです。というのも、これ以降iPhoneやiPadの方の動作も軽くなった印象があるからです。特にiPhoneは文字入力の時にひっかかることがここ数日とても発生していました。その現象にあうことがなくなりました。もちろん、ユーザ辞書をリセットして数時間しか経っていないので、判断するには時期尚早ですが。

#### 追記(2014.4.15)

3日くらい経過しました。OS X は前よりもレインボーが表示される機会が減りました。そして一番驚いたのはiPhoneのバッテリーの減る速度がとても遅くなったことです。そして時折あった、移動中にiPhoneが高温度になるという問題も3日間のうちでは体験しませんでした。

iPhoneのバッテリーの減りが早いときは、まずiCloudの「書類とデータ」の同期を疑え、というのは常識的になっているTipsのひとつです。この「書類とデータ」には、ことえりの学習機能の情報や辞書データも含まれているのですが、まさか入っているデータによっても影響されるとは思いませんでした。この状態はiCloudの中にあるデータに起因するもので、いくらiPhoneをいちからセットアップし直しても再現してしまうもの、に思えますし、辞書データなので、変換学習をリセットしても再現してしまうものです。

非常にややこしいのですが、意外なところで、意外な問題が解決しました。